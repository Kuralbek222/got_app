{"ast":null,"code":"import _regeneratorRuntime from \"/root/React/react-gotapp/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/root/React/react-gotapp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/root/React/react-gotapp/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/root/React/react-gotapp/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nvar gotServices =\n/*#__PURE__*/\nfunction () {\n  function gotServices() {\n    var _this = this;\n\n    _classCallCheck(this, gotServices);\n\n    this.getAllCharacters =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _this.getResources('/characters?page=3&pageSize=10');\n\n            case 2:\n              res = _context.sent;\n              return _context.abrupt(\"return\", res.map(function (item, i) {\n                return _this._transFormCharacter(item, i);\n              }));\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    this.getCharacter =\n    /*#__PURE__*/\n    function () {\n      var _ref2 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(id) {\n        var character;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return _this.getResources(\"/characters/\".concat(id));\n\n              case 2:\n                character = _context2.sent;\n                return _context2.abrupt(\"return\", _this._transFormCharacter(character));\n\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      return function (_x) {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n\n    this.getAllHouses =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee3() {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return _this.getResources(\"/houses/\");\n\n            case 2:\n              res = _context3.sent;\n              return _context3.abrupt(\"return\", res.map(_this._transFormHouse));\n\n            case 4:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this);\n    }));\n\n    this.getHouse =\n    /*#__PURE__*/\n    function () {\n      var _ref4 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee4(id) {\n        var house;\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return _this.getResources(\"/houses/\".concat(id));\n\n              case 2:\n                house = _context4.sent;\n                return _context4.abrupt(\"return\", _this._transFormHouse(house));\n\n              case 4:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      return function (_x2) {\n        return _ref4.apply(this, arguments);\n      };\n    }();\n\n    this.getAllBooks =\n    /*#__PURE__*/\n    function () {\n      var _ref5 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee5(id) {\n        var Books;\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.next = 2;\n                return _this.getResources(\"/books/\");\n\n              case 2:\n                Books = _context5.sent;\n                return _context5.abrupt(\"return\", Books.map(_this._transFormBooks));\n\n              case 4:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      return function (_x3) {\n        return _ref5.apply(this, arguments);\n      };\n    }();\n\n    this.getBook =\n    /*#__PURE__*/\n    function () {\n      var _ref6 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee6(id) {\n        var Books;\n        return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _context6.next = 2;\n                return _this.getResources(\"/books/\".concat(id));\n\n              case 2:\n                Books = _context6.sent;\n                return _context6.abrupt(\"return\", _this._transFormBooks(Books));\n\n              case 4:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      return function (_x4) {\n        return _ref6.apply(this, arguments);\n      };\n    }();\n\n    this._transFormCharacter = function (char, i) {\n      var arr = ['name', 'gender', 'born', 'died', 'culture'];\n      return f(char, i, arr);\n    };\n\n    this._transFormHouse = function (house, i) {\n      var arr = ['name', 'region', 'words', 'titles', 'overload', 'ancestralWeapons'];\n      return f(house, i, arr); // return {\n      //     name: house.name,\n      //     region: house.region,\n      //     words: house.words,\n      //     titles: house.titles,\n      //     overload: house.overload,\n      //     ancestralWeapons: house.ancestralWeapons,\n      //     id: Math.floor(Math.random()* 10000)\n      // }\n    };\n\n    this._transFormBooks = function (book, i) {\n      var arr = ['name', 'numberOfPages', 'publisher', 'released'];\n      return f(book, i, arr);\n    };\n\n    this._apiBase = 'https://www.anapioficeandfire.com/api';\n  }\n\n  _createClass(gotServices, [{\n    key: \"getResources\",\n    value: function () {\n      var _getResources = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee7(url) {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                _context7.next = 2;\n                return fetch(\"\".concat(this._apiBase).concat(url));\n\n              case 2:\n                res = _context7.sent;\n\n                if (res.ok) {\n                  _context7.next = 5;\n                  break;\n                }\n\n                throw new Error(\"Could not fetch \".concat(url, \", status: \").concat(res.status));\n\n              case 5:\n                _context7.next = 7;\n                return res.json();\n\n              case 7:\n                return _context7.abrupt(\"return\", _context7.sent);\n\n              case 8:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this);\n      }));\n\n      function getResources(_x5) {\n        return _getResources.apply(this, arguments);\n      }\n\n      return getResources;\n    }()\n  }]);\n\n  return gotServices;\n}();\n\nexport { gotServices as default };\n\nvar f = function f(Obj, i, arr) {\n  var ObjF = {};\n  arr.forEach(function (item) {\n    ObjF[item] = Obj[item] === '' || Obj[item] === 'undefined' ? 'no data' : Obj[item];\n  });\n  return ObjF = Object.assign(ObjF, ObjF.id = i);\n};","map":{"version":3,"sources":["/root/React/react-gotapp/src/Services/gotServices.js"],"names":["gotServices","getAllCharacters","getResources","res","map","item","i","_transFormCharacter","getCharacter","id","character","getAllHouses","_transFormHouse","getHouse","house","getAllBooks","Books","_transFormBooks","getBook","char","arr","f","book","_apiBase","url","fetch","ok","Error","status","json","Obj","ObjF","forEach","Object","assign"],"mappings":"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","sourcesContent":["\r\nexport default class gotServices {\r\n\r\n    constructor() {\r\n        this._apiBase = 'https://www.anapioficeandfire.com/api'\r\n    }\r\n    async getResources(url) {\r\n        const res = await fetch(`${this._apiBase}${url}`)\r\n\r\n\r\n        if (!res.ok) {\r\n            throw new Error(`Could not fetch ${url}, status: ${res.status}`)\r\n        }\r\n        return await res.json()\r\n    }\r\n    getAllCharacters = async () => {\r\n        const res = await this.getResources('/characters?page=3&pageSize=10')\r\n        return  res.map((item,i)=> this._transFormCharacter(item,i))\r\n    }\r\n    \r\n    getCharacter = async (id) => {\r\n        const character = await this.getResources(`/characters/${id}`)\r\n        return this._transFormCharacter(character)\r\n    }\r\n    getAllHouses = async () => {\r\n        const res = await this.getResources(`/houses/`)\r\n        return res.map(this._transFormHouse)\r\n    }\r\n    getHouse = async (id) => {\r\n        const house = await this.getResources(`/houses/${id}`)\r\n        return this._transFormHouse(house)\r\n    }\r\n    getAllBooks = async (id) => {\r\n        const Books = await  this.getResources(`/books/`)\r\n\r\n        return Books.map(this._transFormBooks)\r\n    }\r\n\r\n    getBook = async (id) => {\r\n        const Books = await  this.getResources(`/books/${id}`)\r\n\r\n        return this._transFormBooks(Books)\r\n    }\r\n\r\n    \r\n    _transFormCharacter =  (char,i) => {\r\n     \r\n        let arr = ['name','gender','born','died','culture']\r\n\r\n        return  f(char,i,arr)    \r\n    }\r\n    _transFormHouse =  (house,i) => {\r\n    let arr = ['name','region','words','titles','overload','ancestralWeapons']\r\n   \r\n        return f(house,i,arr)\r\n        // return {\r\n\r\n        //     name: house.name,\r\n        //     region: house.region,\r\n        //     words: house.words,\r\n        //     titles: house.titles,\r\n        //     overload: house.overload,\r\n        //     ancestralWeapons: house.ancestralWeapons,\r\n        //     id: Math.floor(Math.random()* 10000)\r\n        // }\r\n    }\r\n    _transFormBooks =  (book,i) => {\r\n        let arr = ['name','numberOfPages','publisher','released']\r\n        return  f(book,i,arr)\r\n        \r\n    }\r\n}\r\n\r\nconst f =(Obj,i,arr)=>{\r\n    let ObjF = {}\r\n    \r\n     arr.forEach((item) => {\r\n        ObjF[item] = (Obj[item]===''||Obj[item]==='undefined')?'no data': Obj[item]\r\n    });   \r\n    return ObjF = Object.assign(ObjF,ObjF.id=i)   \r\n  }"]},"metadata":{},"sourceType":"module"}