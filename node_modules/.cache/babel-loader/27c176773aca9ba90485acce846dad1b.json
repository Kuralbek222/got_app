{"ast":null,"code":"import _regeneratorRuntime from \"/root/React/react-gotapp/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/root/React/react-gotapp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/root/React/react-gotapp/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/root/React/react-gotapp/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nvar gotServices =\n/*#__PURE__*/\nfunction () {\n  function gotServices() {\n    var _this = this;\n\n    _classCallCheck(this, gotServices);\n\n    this.getAllCharacters =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _this.getResources('/characters?page=5&pageSize=10');\n\n            case 2:\n              res = _context.sent;\n              return _context.abrupt(\"return\", res.map(_this._transFormCharacter));\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    this.getCharacter =\n    /*#__PURE__*/\n    function () {\n      var _ref2 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(id) {\n        var character;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return _this.getResources(\"/characters/\".concat(id));\n\n              case 2:\n                character = _context2.sent;\n                return _context2.abrupt(\"return\", _this._transFormCharacter(character));\n\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      return function (_x) {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n\n    this.getAllHouses =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee3() {\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              return _context3.abrupt(\"return\", _this.getResources(\"/houses/\"));\n\n            case 1:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this);\n    }));\n\n    this.getHouse =\n    /*#__PURE__*/\n    function () {\n      var _ref4 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee4(id) {\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                return _context4.abrupt(\"return\", _this.getResources(\"/houses/\".concat(id)));\n\n              case 1:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      return function (_x2) {\n        return _ref4.apply(this, arguments);\n      };\n    }();\n\n    this.getAllBooks =\n    /*#__PURE__*/\n    function () {\n      var _ref5 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee5(id) {\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                return _context5.abrupt(\"return\", _this.getResources(\"/books/\"));\n\n              case 1:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      return function (_x3) {\n        return _ref5.apply(this, arguments);\n      };\n    }();\n\n    this._transFormCharacter =\n    /*#__PURE__*/\n    function () {\n      var _ref6 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee6(char) {\n        return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                return _context6.abrupt(\"return\", {\n                  name: char.name,\n                  gender: char.gender,\n                  born: char.born,\n                  died: char.died,\n                  culture: char.culture\n                });\n\n              case 1:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      return function (_x4) {\n        return _ref6.apply(this, arguments);\n      };\n    }();\n\n    this._transFormHouse = function (house) {\n      return {\n        name: house.name,\n        region: house.region,\n        words: house.words,\n        titles: house.titles,\n        overload: house.overload,\n        ancestralWeapons: house.ancestralWeapons\n      };\n    };\n\n    this._transFormBooks =\n    /*#__PURE__*/\n    function () {\n      var _ref7 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee7(book) {\n        return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                return _context7.abrupt(\"return\", {\n                  name: book.name,\n                  numberOfPages: book.numberOfPages,\n                  publisher: book.publisher,\n                  released: book.released\n                });\n\n              case 1:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this);\n      }));\n\n      return function (_x5) {\n        return _ref7.apply(this, arguments);\n      };\n    }();\n\n    this._apiBase = 'https://www.anapioficeandfire.com/api';\n  }\n\n  _createClass(gotServices, [{\n    key: \"getResources\",\n    value: function () {\n      var _getResources = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee8(url) {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                _context8.next = 2;\n                return fetch(\"\".concat(this._apiBase).concat(url));\n\n              case 2:\n                res = _context8.sent;\n\n                if (res.ok) {\n                  _context8.next = 5;\n                  break;\n                }\n\n                throw new Error(\"Could not fetch \".concat(url, \", status: \").concat(res.status));\n\n              case 5:\n                _context8.next = 7;\n                return res.json();\n\n              case 7:\n                return _context8.abrupt(\"return\", _context8.sent);\n\n              case 8:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8, this);\n      }));\n\n      function getResources(_x6) {\n        return _getResources.apply(this, arguments);\n      }\n\n      return getResources;\n    }()\n  }]);\n\n  return gotServices;\n}();\n\nexport { gotServices as default };","map":{"version":3,"sources":["/root/React/react-gotapp/src/Services/gotServices.js"],"names":["gotServices","getAllCharacters","getResources","res","map","_transFormCharacter","getCharacter","id","character","getAllHouses","getHouse","getAllBooks","char","name","gender","born","died","culture","_transFormHouse","house","region","words","titles","overload","ancestralWeapons","_transFormBooks","book","numberOfPages","publisher","released","_apiBase","url","fetch","ok","Error","status","json"],"mappings":"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","sourcesContent":["\r\nexport default class gotServices {\r\n\r\n    constructor() {\r\n        this._apiBase = 'https://www.anapioficeandfire.com/api'\r\n    }\r\n    async getResources(url) {\r\n        const res = await fetch(`${this._apiBase}${url}`)\r\n\r\n\r\n        if (!res.ok) {\r\n            throw new Error(`Could not fetch ${url}, status: ${res.status}`)\r\n        }\r\n        return await res.json()\r\n    }\r\n    getAllCharacters = async () => {\r\n        const res = await this.getResources('/characters?page=5&pageSize=10')\r\n        return res.map(this._transFormCharacter)     \r\n    }\r\n    \r\n    getCharacter = async (id) => {\r\n        const character = await this.getResources(`/characters/${id}`)\r\n        return this._transFormCharacter(character)\r\n    }\r\n    getAllHouses = async () => {\r\n        return this.getResources(`/houses/`)\r\n    }\r\n    getHouse = async (id) => {\r\n        return this.getResources(`/houses/${id}`)\r\n    }\r\n    getAllBooks = async (id) => {\r\n        return this.getResources(`/books/`)\r\n    }\r\n    _transFormCharacter = async (char) => {\r\n        return {\r\n            name: char.name,\r\n            gender: char.gender,\r\n            born: char.born,\r\n            died: char.died,\r\n            culture: char.culture\r\n        }\r\n    }\r\n    _transFormHouse = (house) => {\r\n        return {\r\n            name: house.name,\r\n            region: house.region,\r\n            words: house.words,\r\n            titles: house.titles,\r\n            overload: house.overload,\r\n            ancestralWeapons: house.ancestralWeapons\r\n        }\r\n    }\r\n    _transFormBooks = async (book) => {\r\n        return {\r\n            name: book.name,\r\n            numberOfPages: book.numberOfPages,\r\n            publisher: book.publisher,\r\n            released: book.released\r\n        }\r\n    }\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}