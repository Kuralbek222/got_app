{"ast":null,"code":"import _regeneratorRuntime from \"/root/React/react-gotapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/root/React/react-gotapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/root/React/react-gotapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/root/React/react-gotapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nvar gotServices =\n/*#__PURE__*/\nfunction () {\n  function gotServices() {\n    _classCallCheck(this, gotServices);\n\n    this._apiBase = 'https://www.anapioficeandfire.com/api';\n  }\n\n  _createClass(gotServices, [{\n    key: \"getResources\",\n    value: function () {\n      var _getResources = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(url) {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return fetch(\"\".concat(this._apiBase).concat(url));\n\n              case 2:\n                res = _context.sent;\n\n                if (res.ok) {\n                  _context.next = 5;\n                  break;\n                }\n\n                throw new Error(\"Could not fetch \".concat(url, \", status: \").concat(res.status));\n\n              case 5:\n                _context.next = 7;\n                return res.json();\n\n              case 7:\n                return _context.abrupt(\"return\", _context.sent);\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function getResources(_x) {\n        return _getResources.apply(this, arguments);\n      }\n\n      return getResources;\n    }()\n  }, {\n    key: \"getAllCharacters\",\n    value: function getAllCharacters() {\n      return this.getResources('/characters?page=5&pageSize=10');\n    }\n  }, {\n    key: \"getCharacter\",\n    value: function getCharacter(id) {\n      return this.getResources(\"/characters/\".concat(id));\n    }\n  }]);\n\n  return gotServices;\n}();\n\nexport { gotServices as default };\nvar got = new GameOfService();\ngot.getCharacter(2).then(function (res) {\n  return console.log(res);\n}).catch(function (error) {\n  return console.log(error);\n}); // getResources('https://jsonplaceholder.typicode.com/todos/10000')\n//     .then((res) => console.log('Success', res))\n//     .catch(error => console.log(error))","map":{"version":3,"sources":["/root/React/react-gotapp/src/Services/gotServices.js"],"names":["gotServices","_apiBase","url","fetch","res","ok","Error","status","json","getResources","id","got","GameOfService","getCharacter","then","console","log","catch","error"],"mappings":";;;;;IACqBA,W;;;AAEjB,yBAAc;AAAA;;AACV,SAAKC,QAAL,GAAgB,uCAAhB;AACH;;;;;;;gDACkBC,G;;;;;;;uBACGC,KAAK,WAAI,KAAKF,QAAT,SAAoBC,GAApB,E;;;AAAjBE,gBAAAA,G;;oBAGDA,GAAG,CAACC,E;;;;;sBACC,IAAIC,KAAJ,2BAA6BJ,GAA7B,uBAA6CE,GAAG,CAACG,MAAjD,E;;;;uBAEGH,GAAG,CAACI,IAAJ,E;;;;;;;;;;;;;;;;;;;;;uCAEE;AACf,aAAO,KAAKC,YAAL,CAAkB,gCAAlB,CAAP;AACH;;;iCACYC,E,EAAI;AACb,aAAO,KAAKD,YAAL,uBAAiCC,EAAjC,EAAP;AACH;;;;;;SAnBgBV,W;AAsBrB,IAAMW,GAAG,GAAG,IAAIC,aAAJ,EAAZ;AAEAD,GAAG,CAACE,YAAJ,CAAiB,CAAjB,EACKC,IADL,CACU,UAACV,GAAD;AAAA,SAASW,OAAO,CAACC,GAAR,CAAYZ,GAAZ,CAAT;AAAA,CADV,EAEKa,KAFL,CAEW,UAAAC,KAAK;AAAA,SAAIH,OAAO,CAACC,GAAR,CAAYE,KAAZ,CAAJ;AAAA,CAFhB,E,CAQA;AACA;AACA","sourcesContent":["\r\nexport default class gotServices {\r\n\r\n    constructor() {\r\n        this._apiBase = 'https://www.anapioficeandfire.com/api'\r\n    }\r\n    async getResources(url) {\r\n        const res = await fetch(`${this._apiBase}${url}`)\r\n\r\n\r\n        if (!res.ok) {\r\n            throw new Error(`Could not fetch ${url}, status: ${res.status}`)\r\n        }\r\n        return await res.json()\r\n    }\r\n    getAllCharacters() {\r\n        return this.getResources('/characters?page=5&pageSize=10')\r\n    }\r\n    getCharacter(id) {\r\n        return this.getResources(`/characters/${id}`)\r\n    }\r\n}\r\n\r\nconst got = new GameOfService()\r\n\r\ngot.getCharacter(2)\r\n    .then((res) => console.log(res))\r\n    .catch(error => console.log(error))\r\n\r\n\r\n\r\n\r\n\r\n// getResources('https://jsonplaceholder.typicode.com/todos/10000')\r\n//     .then((res) => console.log('Success', res))\r\n//     .catch(error => console.log(error))"]},"metadata":{},"sourceType":"module"}