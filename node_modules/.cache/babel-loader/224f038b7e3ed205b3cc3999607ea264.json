{"ast":null,"code":"import _regeneratorRuntime from \"/root/React/react-gotapp/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/root/React/react-gotapp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/root/React/react-gotapp/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/root/React/react-gotapp/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nvar gotServices =\n/*#__PURE__*/\nfunction () {\n  function gotServices() {\n    var _this = this;\n\n    _classCallCheck(this, gotServices);\n\n    this.getAllHouses = function () {\n      return _this.getResources(\"/houses/\");\n    };\n\n    this.getHouse = function (id) {\n      return _this.getResources(\"/houses/\".concat(id));\n    };\n\n    this.getAllBooks = function (id) {\n      return _this.getResources(\"/books/\");\n    };\n\n    this._transFormCharacter = function (char) {\n      return {\n        name: char.name,\n        gender: char.gender,\n        born: char.born,\n        died: char.died,\n        culture: char.culture\n      };\n    };\n\n    this._transFormHouse = function (house) {\n      return {\n        name: house.name,\n        region: house.region,\n        words: house.words,\n        titles: house.titles,\n        overload: house.overload,\n        ancestralWeapons: house.ancestralWeapons\n      };\n    };\n\n    this._transFormBooks = function (book) {\n      return {\n        name: book.name,\n        numberOfPages: book.numberOfPages,\n        publisher: book.publisher,\n        released: book.released\n      };\n    };\n\n    this._apiBase = 'https://www.anapioficeandfire.com/api';\n  }\n\n  _createClass(gotServices, [{\n    key: \"getResources\",\n    value: function () {\n      var _getResources = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(url) {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return fetch(\"\".concat(this._apiBase).concat(url));\n\n              case 2:\n                res = _context.sent;\n\n                if (res.ok) {\n                  _context.next = 5;\n                  break;\n                }\n\n                throw new Error(\"Could not fetch \".concat(url, \", status: \").concat(res.status));\n\n              case 5:\n                _context.next = 7;\n                return res.json();\n\n              case 7:\n                return _context.abrupt(\"return\", _context.sent);\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function getResources(_x) {\n        return _getResources.apply(this, arguments);\n      }\n\n      return getResources;\n    }()\n  }, {\n    key: \"getAllCharacters\",\n    value: function () {\n      var _getAllCharacters = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2() {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return this.getResources('/characters?page=5&pageSize=10');\n\n              case 2:\n                res = _context2.sent;\n                return _context2.abrupt(\"return\", res.map(this._transFormCharacter));\n\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function getAllCharacters() {\n        return _getAllCharacters.apply(this, arguments);\n      }\n\n      return getAllCharacters;\n    }()\n  }, {\n    key: \"getCharacter\",\n    value: function () {\n      var _getCharacter = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3(id) {\n        var character;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return this.getResources(\"/characters/\".concat(id));\n\n              case 2:\n                character = _context3.sent;\n                return _context3.abrupt(\"return\", this._transFormCharacter(character));\n\n              case 4:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function getCharacter(_x2) {\n        return _getCharacter.apply(this, arguments);\n      }\n\n      return getCharacter;\n    }()\n  }]);\n\n  return gotServices;\n}();\n\nexport { gotServices as default };","map":{"version":3,"sources":["/root/React/react-gotapp/src/Services/gotServices.js"],"names":["gotServices","getAllHouses","getResources","getHouse","id","getAllBooks","_transFormCharacter","char","name","gender","born","died","culture","_transFormHouse","house","region","words","titles","overload","ancestralWeapons","_transFormBooks","book","numberOfPages","publisher","released","_apiBase","url","fetch","res","ok","Error","status","json","map","character"],"mappings":";;;;;IACqBA,W;;;AAEjB,yBAAc;AAAA;;AAAA;;AAAA,SAqBdC,YArBc,GAqBC,YAAM;AACjB,aAAO,KAAI,CAACC,YAAL,YAAP;AACH,KAvBa;;AAAA,SAwBdC,QAxBc,GAwBH,UAACC,EAAD,EAAQ;AACf,aAAO,KAAI,CAACF,YAAL,mBAA6BE,EAA7B,EAAP;AACH,KA1Ba;;AAAA,SA2BdC,WA3Bc,GA2BA,UAACD,EAAD,EAAQ;AAClB,aAAO,KAAI,CAACF,YAAL,WAAP;AACH,KA7Ba;;AAAA,SA8BdI,mBA9Bc,GA8BQ,UAACC,IAAD,EAAU;AAC5B,aAAO;AACHC,QAAAA,IAAI,EAAED,IAAI,CAACC,IADR;AAEHC,QAAAA,MAAM,EAAEF,IAAI,CAACE,MAFV;AAGHC,QAAAA,IAAI,EAAEH,IAAI,CAACG,IAHR;AAIHC,QAAAA,IAAI,EAAEJ,IAAI,CAACI,IAJR;AAKHC,QAAAA,OAAO,EAAEL,IAAI,CAACK;AALX,OAAP;AAOH,KAtCa;;AAAA,SAuCdC,eAvCc,GAuCI,UAACC,KAAD,EAAW;AACzB,aAAO;AACHN,QAAAA,IAAI,EAAEM,KAAK,CAACN,IADT;AAEHO,QAAAA,MAAM,EAAED,KAAK,CAACC,MAFX;AAGHC,QAAAA,KAAK,EAAEF,KAAK,CAACE,KAHV;AAIHC,QAAAA,MAAM,EAAEH,KAAK,CAACG,MAJX;AAKHC,QAAAA,QAAQ,EAAEJ,KAAK,CAACI,QALb;AAMHC,QAAAA,gBAAgB,EAAEL,KAAK,CAACK;AANrB,OAAP;AAQH,KAhDa;;AAAA,SAiDdC,eAjDc,GAiDI,UAACC,IAAD,EAAU;AACxB,aAAO;AACHb,QAAAA,IAAI,EAAEa,IAAI,CAACb,IADR;AAEHc,QAAAA,aAAa,EAAED,IAAI,CAACC,aAFjB;AAGHC,QAAAA,SAAS,EAAEF,IAAI,CAACE,SAHb;AAIHC,QAAAA,QAAQ,EAAEH,IAAI,CAACG;AAJZ,OAAP;AAMH,KAxDa;;AACV,SAAKC,QAAL,GAAgB,uCAAhB;AACH;;;;;;;gDACkBC,G;;;;;;;uBACGC,KAAK,WAAI,KAAKF,QAAT,SAAoBC,GAApB,E;;;AAAjBE,gBAAAA,G;;oBAGDA,GAAG,CAACC,E;;;;;sBACC,IAAIC,KAAJ,2BAA6BJ,GAA7B,uBAA6CE,GAAG,CAACG,MAAjD,E;;;;uBAEGH,GAAG,CAACI,IAAJ,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;uBAGK,KAAK9B,YAAL,CAAkB,gCAAlB,C;;;AAAZ0B,gBAAAA,G;kDAECA,GAAG,CAACK,GAAJ,CAAQ,KAAK3B,mBAAb,C;;;;;;;;;;;;;;;;;;;;;iDAEQF,E;;;;;;;uBACS,KAAKF,YAAL,uBAAiCE,EAAjC,E;;;AAAlB8B,gBAAAA,S;kDACC,KAAK5B,mBAAL,CAAyB4B,SAAzB,C;;;;;;;;;;;;;;;;;;;;;SArBMlC,W","sourcesContent":["\r\nexport default class gotServices {\r\n\r\n    constructor() {\r\n        this._apiBase = 'https://www.anapioficeandfire.com/api'\r\n    }\r\n    async getResources(url) {\r\n        const res = await fetch(`${this._apiBase}${url}`)\r\n\r\n\r\n        if (!res.ok) {\r\n            throw new Error(`Could not fetch ${url}, status: ${res.status}`)\r\n        }\r\n        return await res.json()\r\n    }\r\n    async getAllCharacters() {\r\n        const res = await this.getResources('/characters?page=5&pageSize=10')\r\n\r\n        return res.map(this._transFormCharacter)\r\n    }\r\n    async getCharacter(id) {\r\n        const character = await this.getResources(`/characters/${id}`)\r\n        return this._transFormCharacter(character)\r\n    }\r\n    getAllHouses = () => {\r\n        return this.getResources(`/houses/`)\r\n    }\r\n    getHouse = (id) => {\r\n        return this.getResources(`/houses/${id}`)\r\n    }\r\n    getAllBooks = (id) => {\r\n        return this.getResources(`/books/`)\r\n    }\r\n    _transFormCharacter = (char) => {\r\n        return {\r\n            name: char.name,\r\n            gender: char.gender,\r\n            born: char.born,\r\n            died: char.died,\r\n            culture: char.culture\r\n        }\r\n    }\r\n    _transFormHouse = (house) => {\r\n        return {\r\n            name: house.name,\r\n            region: house.region,\r\n            words: house.words,\r\n            titles: house.titles,\r\n            overload: house.overload,\r\n            ancestralWeapons: house.ancestralWeapons\r\n        }\r\n    }\r\n    _transFormBooks = (book) => {\r\n        return {\r\n            name: book.name,\r\n            numberOfPages: book.numberOfPages,\r\n            publisher: book.publisher,\r\n            released: book.released\r\n        }\r\n    }\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}